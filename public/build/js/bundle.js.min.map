{"version":3,"sources":["logout.js","nav.js","services.js"],"names":["logoutLinks","document","querySelectorAll","length","forEach","link","addEventListener","e","preventDefault","fetch","method","headers","Content-Type","then","response","ok","Error","json","data","success","window","location","href","console","error","catch","header","querySelector","handleScroll","scrollY","classList","add","remove","passive","toggle","overlayNav","isActive","body","overlayClose","innerWidth","userBtn","userDropdown","stopPropagation","contains","target","cards","card","images","JSON","parse","getAttribute","Array","isArray","imgElement","current","setInterval","tempImg","createElement","src","alt","className","style","position","top","left","width","height","objectFit","opacity","transition","appendChild","offsetWidth","removeChild"],"mappings":"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","file":"bundle.js","sourcesContent":["(() => {\r\n    // Selecciona todos los enlaces de logout\r\n    const logoutLinks = document.querySelectorAll('.logout-link');\r\n    if (!logoutLinks.length) return;\r\n  \r\n    logoutLinks.forEach(link => {\r\n      link.addEventListener('click', (e) => {\r\n        e.preventDefault(); // Evita la navegación por defecto\r\n  \r\n        fetch('/logout', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error('Error en el logout');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          if (data.success) {\r\n            // Redirige a la página principal o a donde corresponda\r\n            window.location.href = '/';\r\n          } else {\r\n            console.error('Logout no exitoso');\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error en la solicitud de logout:', error);\r\n        });\r\n      });\r\n    });\r\n  })();\r\n  ","(() => {\r\n  const header = document.querySelector('.header');\r\n  if (!header) return;\r\n\r\n  // Manejo de scroll para .header--scrolled\r\n  function handleScroll() {\r\n    if (window.scrollY > 0) {\r\n      header.classList.add('header--scrolled');\r\n    } else {\r\n      header.classList.remove('header--scrolled');\r\n    }\r\n  }\r\n  handleScroll();\r\n  window.addEventListener('scroll', handleScroll, { passive: true });\r\n\r\n  // Hamburguesa para menú overlay\r\n  const toggle = header.querySelector('.header__toggle');\r\n  if (!toggle) return;\r\n\r\n  const overlayNav = document.querySelector('.overlay-nav');\r\n  if (!overlayNav) return;\r\n\r\n  toggle.addEventListener('click', () => {\r\n    const isActive = toggle.classList.toggle('is-active');\r\n    overlayNav.classList.toggle('is-active', isActive);\r\n    document.body.classList.toggle('nav-open', isActive);\r\n    if (isActive) {\r\n      header.classList.remove('header--scrolled');\r\n    } else {\r\n      handleScroll();\r\n    }\r\n  });\r\n\r\n  // Botón de cierre en overlay\r\n  const overlayClose = document.querySelector('.overlay-nav__close');\r\n  if (overlayClose) {\r\n    overlayClose.addEventListener('click', () => {\r\n      toggle.classList.remove('is-active');\r\n      overlayNav.classList.remove('is-active');\r\n      document.body.classList.remove('nav-open');\r\n      handleScroll();\r\n    });\r\n  }\r\n\r\n  // Al redimensionar, cerramos overlay si se alcanza tablet\r\n  function handleResize() {\r\n    if (window.innerWidth >= 768) {\r\n      toggle.classList.remove('is-active');\r\n      overlayNav.classList.remove('is-active');\r\n      document.body.classList.remove('nav-open');\r\n      handleScroll();\r\n    }\r\n  }\r\n  window.addEventListener('resize', handleResize);\r\n\r\n  // Nueva lógica para el dropdown de usuario (activación por click)\r\n  const userBtn = header.querySelector('.header__user-btn');\r\n  const userDropdown = header.querySelector('.header__user-dropdown');\r\n  \r\n  if (userBtn && userDropdown) {\r\n    userBtn.addEventListener('click', (e) => {\r\n      // Evitar que se cierre al hacer click en el botón\r\n      e.stopPropagation();\r\n      userDropdown.classList.toggle('is-active');\r\n    });\r\n    \r\n    // Cerrar el dropdown si se hace click fuera\r\n    document.addEventListener('click', (e) => {\r\n      if (!header.contains(e.target)) {\r\n        userDropdown.classList.remove('is-active');\r\n      }\r\n    });\r\n    \r\n    // Evitar cierre al hacer click dentro del dropdown\r\n    userDropdown.addEventListener('click', (e) => {\r\n      e.stopPropagation();\r\n    });\r\n  }\r\n})();\r\n","(() => {\r\n    const cards = document.querySelectorAll('.service-card__image-container');\r\n    if (!cards.length) return;\r\n  \r\n    cards.forEach(card => {\r\n      let images;\r\n      try {\r\n        images = JSON.parse(card.getAttribute('data-images'));\r\n      } catch (e) {\r\n        console.error('Error parsing images for card', card);\r\n        return;\r\n      }\r\n      if (!Array.isArray(images) || images.length === 0) return;\r\n  \r\n      const imgElement = card.querySelector('.service-card__image');\r\n      if (!imgElement) return;\r\n  \r\n      let current = 0;\r\n      setInterval(() => {\r\n        current = (current + 1) % images.length;\r\n        const tempImg = document.createElement('img');\r\n        tempImg.src = images[current];\r\n        tempImg.alt = imgElement.alt;\r\n        tempImg.className = 'service-card__image temp';\r\n        tempImg.style.position = 'absolute';\r\n        tempImg.style.top = 0;\r\n        tempImg.style.left = 0;\r\n        tempImg.style.width = '100%';\r\n        tempImg.style.height = '100%';\r\n        tempImg.style.objectFit = 'cover';\r\n        tempImg.style.opacity = 0;\r\n        tempImg.style.transition = 'opacity 0.5s ease';\r\n  \r\n        card.appendChild(tempImg);\r\n        void tempImg.offsetWidth;\r\n        tempImg.style.opacity = 1;\r\n  \r\n        tempImg.addEventListener('transitionend', () => {\r\n          imgElement.src = images[current];\r\n          card.removeChild(tempImg);\r\n        });\r\n      }, 3000);\r\n    });\r\n  })();\r\n  "]}